FROM alpine:3.17

# Instala o bash
RUN apk add --no-cache bash

# crypto++ is in edge/community
RUN apk add --no-cache --repository http://dl-cdn.alpinelinux.org/alpine/edge/community/ \
  boost-iostreams \
  boost-system \
  crypto++ \
  fmt \
  luajit \
  mariadb-connector-c \
  pugixml
RUN     apk update

USER container
ENV USER container
ENV HOME /home/container

WORKDIR /home/container

COPY entrypoint.sh /entrypoint.sh

CMD ["/bin/ash", "/entrypoint.sh"]
